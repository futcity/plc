{
    "extenders": [
        { "name": "int-gpio",   "type": "mcp23017", "addr": 38, "base": 700, "enabled": true  },
        { "name": "ext-gpio-6", "type": "mcp23017", "addr": 37, "base": 600, "enabled": false },
        { "name": "ext-gpio-5", "type": "mcp23017", "addr": 36, "base": 500, "enabled": false },
        { "name": "ext-gpio-4", "type": "mcp23017", "addr": 35, "base": 400, "enabled": false },
        { "name": "ext-gpio-3", "type": "mcp23017", "addr": 34, "base": 300, "enabled": false },
        { "name": "ext-gpio-2", "type": "mcp23017", "addr": 33, "base": 200, "enabled": false },
        { "name": "ext-gpio-1", "type": "mcp23017", "addr": 32, "base": 100, "enabled": false }
    ],

    "gpio": [
        { "name": "cpu-btn-1",     "pin":   8, "mode": "input",  "pull": "up"    },
        { "name": "cpu-btn-2",     "pin":   7, "mode": "input",  "pull": "up"    },
        { "name": "cpu-btn-3",     "pin":   5, "mode": "input",  "pull": "up"    },
        { "name": "cpu-sts-1",     "pin":  12, "mode": "output", "pull": "none"  },
        { "name": "cpu-sts-2",     "pin":  11, "mode": "output", "pull": "none"  },
        { "name": "cpu-alarm",     "pin":  14, "mode": "output", "pull": "none"  },
        { "name": "int-relay16-1", "pin": 709, "mode": "output", "pull": "none"  },
        { "name": "int-relay16-2", "pin": 710, "mode": "output", "pull": "none"  },
        { "name": "int-relay10-1", "pin": 711, "mode": "output", "pull": "none"  },
        { "name": "int-relay10-2", "pin": 712, "mode": "output", "pull": "none"  },
        { "name": "int-relay10-3", "pin": 713, "mode": "output", "pull": "none"  },
        { "name": "int-relay10-4", "pin": 714, "mode": "output", "pull": "none"  },
        { "name": "int-relay5",    "pin": 715, "mode": "output", "pull": "none"  },
        { "name": "int-opto-1",    "pin": 700, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-2",    "pin": 701, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-3",    "pin": 702, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-4",    "pin": 703, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-5",    "pin": 704, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-6",    "pin": 705, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-7",    "pin": 706, "mode": "input",  "pull": "down"  },
        { "name": "int-opto-8",    "pin": 707, "mode": "input",  "pull": "down"  }
    ],

    "server": {
        "port": 8000
    },

    "menu": {
        "lcd": {
            "base": 800,
            "addr": 63
        },
        "buttons": {
            "up": "cpu-btn-1",
            "red": "cpu-btn-2",
            "down": "cpu-btn-3"
        }
    },
    
    "controllers": [
        { 
            "name": "rack",
            "type": "socket",
            "socket": {
                "sockets": [
                    { "name": "switch1", "relay": "int-relay10-1", "button": "int-opto-1" },
                    { "name": "switch2", "relay": "int-relay10-2", "button": "int-opto-2" },
                    { "name": "switch3", "relay": "int-relay10-3", "button": "int-opto-3" },
                    { "name": "switch4", "relay": "int-relay10-4", "button": "int-opto-4" }
                ]
            }
        },
        {
            "name": "tank",
            "type": "watertank",
            "watertank": {
                "pins": {
                    "pump": "int-relay16-1",
                    "fill": ""
                },
                "levels": [
                    { "name": "low",    "pin": "int-opto-5" },
                    { "name": "middle", "pin": "int-opto-6" },
                    { "name": "high",   "pin": "int-opto-7" }
                ]
            }
        },
        {
            "name": "flowers",
            "type": "watering",
            "watering": {
                "zones": [
                    { "name": "zone1", "pin": "int-relay16-2", "on": "16:00", "off": "16:30" }
                ]
            }
        },
        {
            "name": "table",
            "type": "security",
            "security": {
                "pins": {
                    "alarm": {
                        "led": "cpu-alarm",
                        "buzzer": "int-relay5",
                        "relay": ""
                    }
                },
                "sensors": [
                    { "name": "table", "type": "microwave", "pin": "int-opto-8", "alarm": true }
                ]
            }
        }
    ]
}
